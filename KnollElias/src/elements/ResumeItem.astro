---
// Props: key, title, text, file, filetype
const { key, title, text, file, filetype, width, height } = Astro.props;
---

<div class="container" 
     onMouseEnter={(event) => handleMouseEnter(event, key)} 
     onMouseLeave={(event) => handleMouseLeave(event)}
     id={'resume-item-' + key}>
  <p class="title">{title}</p>
  <div class="text-and-file" style="display: none;">
    <p class="text">{text}</p>
    {filetype === 'pdf' && (
      <object data={file} type="application/pdf" width={width} height={height}>PDF cannot be displayed</object>
    )}
  </div>
</div>

<script>
  function handleMouseEnter(event, key) {
    window.dispatchEvent(new CustomEvent('set-open-key', {
      detail: { key }
    }));
  }

  function handleMouseLeave(event) {
    window.dispatchEvent(new Event('clear-open-key'));
  }
</script>

<style>
  .container {
    margin: 10px;
    padding: 10px;
    border: 1px solid #fff;
    color: white;
    cursor: pointer;
    background-color: red;
  }
  .title {
    font-weight: bold;
  }
  .text {
    margin-top: 5px;
  }
  .certificate-container {
    margin-top: 10px;
  }
</style>
